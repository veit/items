[tox]
min_version = 4
envlist =
    py3{8,9,10,11,12}
    coverage-report
isolated_build = True
skip_missing_interpreters = True

[testenv]
extras =
    tests: tests
deps =
  tests: coverage[toml]
commands =
  tests: pytest --cov=items --cov-fail-under=99 {posargs}

[testenv:coverage-report]
description = Report coverage over all test runs.
deps = coverage[toml]
skip_install = true
allowlist_externals = pytest
commands =
    pytest --cov=items --cov-report=html
